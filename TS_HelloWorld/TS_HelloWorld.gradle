buildscript {
    repositories {
		mavenLocal()
		mavenCentral()
	}
  dependencies {
	classpath libraries.docker
  }
}

// apply plugin: "com.bmuschko.docker-remote-api"
apply plugin: com.bmuschko.gradle.docker.DockerRemoteApiPlugin

// Import task types
import com.bmuschko.gradle.docker.tasks.image.DockerBuildImage

// Use task types
task dockerBuildImage(type: DockerBuildImage) {
    dependsOn 'install'
    inputDir = file('.')
    buildArgs.put('version', "${helloWorldVersion}")
    tags.add ("ivct/ts-helloworld:${helloWorldVersion}")
}

apply plugin: 'application'

mainClassName = 'de.fraunhofer.iosb.tc_helloworld.TC0001'

dependencies {

    compileOnly     libraries.ieee_lib
	compileOnly     libraries.tc_lib

	compileOnly     libraries.slf4j_api
	compileOnly		libraries.logback_classic
	compileOnly		libraries.logback_core
	compileOnly     libraries.slf4j_jcl_over_slf4j
	compileOnly     libraries.slf4j_jul_to_slf4j
	compileOnly     libraries.slf4j_log4j_over_slf4j
	compileOnly		libraries.jsonSimple
    compileOnly(
            'junit:junit:4.12'
    )

    testCompileOnly     libraries.tc_lib
    testImplementation(
            'org.junit.jupiter:junit-jupiter-api:5.1.0',
            "io.github.ivctool:Command:${ivctVersion}"
    )
    testRuntimeOnly(
            'org.junit.jupiter:junit-jupiter-engine:5.1.0',
            'org.junit.vintage:junit-vintage-engine:5.1.0'
    )
}

// test {
//     useJUnitPlatform()
// }
